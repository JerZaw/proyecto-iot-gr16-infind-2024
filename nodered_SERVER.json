[
    {
        "id": "e92da6dab713fbf2",
        "type": "tab",
        "label": "Proyecto",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7723139f694ade65",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "name": "LED",
        "style": {
            "fill": "#c8e7a7",
            "fill-opacity": "0.2",
            "label": true
        },
        "nodes": [
            "5bbfe1f32a8dd3da",
            "cdddb9ef78df682b"
        ],
        "x": 8,
        "y": 333,
        "w": 1484,
        "h": 314
    },
    {
        "id": "0ece979cdefda2e6",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "name": "Datos",
        "style": {
            "fill": "#b797cf",
            "fill-opacity": "0.2",
            "label": true
        },
        "nodes": [
            "4fa08493d31b8e68",
            "0f77572edd564b8d",
            "45e53859aec149f5",
            "86fa5c93d2df988d",
            "f195d70b06b0d3b0",
            "b8fa4bcead652fc9",
            "4d813e9dde1090bb",
            "f12b683742c3b0f2",
            "e37ebafa9d4ca71f",
            "c76fd88b3a2a0dad",
            "059df33395f049da",
            "4188a3261e5f193e",
            "ec16ac274190892d"
        ],
        "x": 14,
        "y": 659,
        "w": 732,
        "h": 302
    },
    {
        "id": "cbbc0d998969e22c",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "name": "Switch",
        "style": {
            "stroke": "#a4a4a4",
            "label": true,
            "fill": "#bfdbef",
            "fill-opacity": "0.3"
        },
        "nodes": [
            "970bbf3c5d96c8f7",
            "0c64375291e4bbb3",
            "a46586af39594a38",
            "49142ca53f693d7a",
            "dbd569a86613854b",
            "354299ab6f563dee",
            "8a2ae27eef722c93",
            "4fb42311617ab506",
            "ae65e9726ba02940"
        ],
        "x": 934,
        "y": 979,
        "w": 552,
        "h": 242
    },
    {
        "id": "48918301713603ee",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "name": "Conexión",
        "style": {
            "fill": "#dbcbe7",
            "label": true,
            "fill-opacity": "0.49"
        },
        "nodes": [
            "53addc2b0e07ee63",
            "c8d6951ac406c4f9",
            "a81e804f1c2d9443",
            "04bbef03827cc5b3",
            "c8d3be97206e14f4",
            "10171c1fa29a401f",
            "ca111f6b791301a6"
        ],
        "x": 14,
        "y": 119,
        "w": 632,
        "h": 202
    },
    {
        "id": "409e01c1ddaa3548",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "name": "LOG",
        "style": {
            "label": true,
            "stroke": "#a4a4a4",
            "fill": "#ff0000",
            "fill-opacity": "0.2"
        },
        "nodes": [
            "1410fd8ea7d531d6",
            "a77d8d6a61b718e6",
            "8f9eaa8c8f4d624d",
            "06e06f3165dae6d7",
            "1fa17c40ca58396a",
            "2703be1f3a9021f4",
            "af4211adb9d9b868",
            "1ceb6eb4decf128c"
        ],
        "x": 654,
        "y": 119,
        "w": 832,
        "h": 202
    },
    {
        "id": "5bbfe1f32a8dd3da",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "g": "7723139f694ade65",
        "name": "Color",
        "style": {
            "label": true
        },
        "nodes": [
            "b556181368030897",
            "785f2fee914cb59a",
            "1fc55a71aade72cd",
            "e2035f2f1f3b1109",
            "a4a0736c9ee1372d",
            "7f773eed6ba2fd70",
            "182658654f01ac20",
            "a36432f02d5c61d7",
            "a65f82e08f37fbbb",
            "7136fe45e81fbdb8"
        ],
        "x": 34,
        "y": 359,
        "w": 652,
        "h": 262
    },
    {
        "id": "cdddb9ef78df682b",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "g": "7723139f694ade65",
        "name": "Brillo",
        "style": {
            "label": true
        },
        "nodes": [
            "6af476baa5720c53",
            "3e06980b0d0ab8f5",
            "b60c1c8611ed6db8",
            "9e20e3f8238ef444",
            "3052b1b54412d981",
            "c7295d366b6518e1",
            "2a53159a4b84bf5e",
            "34e600fa30ff6511",
            "1898a6eb7d22fdbe",
            "73efdea03cb618d6",
            "88f5b8ef37a8cf08",
            "72d8ea27ce2fbf21"
        ],
        "x": 734,
        "y": 359,
        "w": 732,
        "h": 262
    },
    {
        "id": "a0d92a043d54fb76",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "name": "Configuración",
        "style": {
            "fill": "#ffffbf",
            "fill-opacity": "0.2",
            "label": true
        },
        "nodes": [
            "222ee9108c3e69c5",
            "2f548a3a21741679",
            "83da0d1dcdd5def9",
            "5a25f513c195d439",
            "11fa4c458f01c790",
            "05c7551ed016e1de",
            "8bb940c9aaf7960b",
            "931d07c235b66340",
            "df5eec50679a0c94",
            "dbdc8df7d78ff029",
            "358d7735280ef9b8",
            "1e97d493ae3af235",
            "595ecda87b15e8a0",
            "023fc623b960f3e8"
        ],
        "x": 14,
        "y": 979,
        "w": 912,
        "h": 242
    },
    {
        "id": "8bdb952b6f7c5ef4",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "name": "Telegram",
        "style": {
            "fill": "#0070c0",
            "fill-opacity": "0.2",
            "label": true
        },
        "nodes": [
            "25ae094588d7eefa",
            "3a331822f3c206ca",
            "66498d065d90b9a6",
            "0f86c890c030920e",
            "b399f0c4ac1a4a36",
            "aedcf5f3e8a9ef28",
            "953b04dd14c1bfe1",
            "5cd5bc5b31e9e63a",
            "f03cdb02adc4cc46",
            "58c4196fb4becfcb",
            "5827563d3871784f",
            "ed4c994b111117a1",
            "a15ba0364b488a5e",
            "709a5a452d2d2155",
            "2870aa0cc76fd5d5",
            "27fd955cd51462a1",
            "dc6e60dc169ebf81"
        ],
        "x": 754,
        "y": 659,
        "w": 732,
        "h": 302
    },
    {
        "id": "58968961a9981b08",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "Borrar todos los datos",
        "style": {
            "label": true
        },
        "nodes": [
            "86ecc3854d52b1a3",
            "3967e5fc1e7567eb"
        ],
        "x": 874,
        "y": 1459,
        "w": 572,
        "h": 82
    },
    {
        "id": "709683779bfc6b4a",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "name": "Datos",
        "style": {
            "fill": "#b797cf",
            "fill-opacity": "0.2",
            "label": true
        },
        "nodes": [
            "043a22571f540493",
            "6ead7011c3e0a31a",
            "f0f6d78f6d94d150",
            "6e41383e72f8370b",
            "28fa5e6f7a98326a",
            "92f32c551b564971",
            "812a5ff029c9d8be",
            "889ff3e361738722",
            "f9dc51db0369c513",
            "8c143cc8be87f775",
            "90058a725408b93f",
            "376152fdd2910fc5",
            "07f50edb4d03dae9",
            "57646a8454da2bce",
            "58968961a9981b08",
            "d7bf462e8e978631"
        ],
        "x": 14,
        "y": 1239,
        "w": 1458,
        "h": 328
    },
    {
        "id": "d7bf462e8e978631",
        "type": "group",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "Ver todos los datos",
        "style": {
            "label": true
        },
        "nodes": [
            "32675ec3b1fe5bf9",
            "b28309d73fbcbc06",
            "2246a568a9da1291"
        ],
        "x": 114,
        "y": 1459,
        "w": 692,
        "h": 82
    },
    {
        "id": "6af476baa5720c53",
        "type": "mqtt in",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "LED Brillo Pub",
        "topic": "II16/esp32c3-D85054/led/brillo/estado",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "dcc291bb801e1410",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 840,
        "y": 400,
        "wires": [
            [
                "b60c1c8611ed6db8",
                "9e20e3f8238ef444"
            ]
        ]
    },
    {
        "id": "b556181368030897",
        "type": "mqtt in",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "LED Color Pub",
        "topic": "II16/esp32c3-D85054/led/color/estado",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "dcc291bb801e1410",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 140,
        "y": 400,
        "wires": [
            [
                "1fc55a71aade72cd",
                "a4a0736c9ee1372d"
            ]
        ]
    },
    {
        "id": "3e06980b0d0ab8f5",
        "type": "mqtt out",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "LED Brillo Sub",
        "topic": "II16/esp32c3-D85054/led/brillo",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "dcc291bb801e1410",
        "x": 1300,
        "y": 520,
        "wires": []
    },
    {
        "id": "785f2fee914cb59a",
        "type": "mqtt out",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "LED Color Sub",
        "topic": "II16/esp32c3-D85054/led/color",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "dcc291bb801e1410",
        "x": 580,
        "y": 580,
        "wires": []
    },
    {
        "id": "53addc2b0e07ee63",
        "type": "mqtt in",
        "z": "e92da6dab713fbf2",
        "g": "48918301713603ee",
        "name": "Conexion",
        "topic": "II16/esp32c3-D85054/conexion",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "dcc291bb801e1410",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 100,
        "y": 200,
        "wires": [
            [
                "c8d6951ac406c4f9",
                "10171c1fa29a401f",
                "ca111f6b791301a6",
                "a81e804f1c2d9443"
            ]
        ]
    },
    {
        "id": "c8d6951ac406c4f9",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "48918301713603ee",
        "name": "Conexion",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 340,
        "y": 160,
        "wires": []
    },
    {
        "id": "b60c1c8611ed6db8",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "LED Brillo",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1060,
        "y": 400,
        "wires": []
    },
    {
        "id": "1fc55a71aade72cd",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "LED Color",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 370,
        "y": 400,
        "wires": []
    },
    {
        "id": "e2035f2f1f3b1109",
        "type": "ui_led",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "order": 4,
        "group": "9e8a9cec0b15cf59",
        "width": 0,
        "height": 0,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#000000",
                "value": "{ \"level\":0 }",
                "valueType": "json"
            },
            {
                "color": "#ffffff",
                "value": "{ \"level\":1 }",
                "valueType": "json"
            }
        ],
        "allowColorForValueInMessage": true,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 570,
        "y": 460,
        "wires": []
    },
    {
        "id": "a4a0736c9ee1372d",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "RGB2Hex",
        "func": "function decimalToHex(d) {\n    var hex = d.toString(16);\n    if (hex.length == 1) hex = \"0\" + hex;\n    return hex;\n}\n\nif (msg.payload.R != null){\n    var colorHEX = \"#\" + decimalToHex(msg.payload.R)\n    + decimalToHex(msg.payload.G)\n    + decimalToHex(msg.payload.B);\n}\nelse if (msg.payload.level != null){\n    var colorHEX = \"#\" + decimalToHex(flow.get(\"R\") * msg.payload.level)\n    + decimalToHex(flow.get(\"G\") * msg.payload.level)\n    + decimalToHex(flow.get(\"B\") * msg.payload.level);\n}\n\nmsg.colorForValue = {};\nmsg.colorForValue[\"micolor\"] = colorHEX;\nmsg.payload = \"micolor\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 460,
        "wires": [
            [
                "e2035f2f1f3b1109",
                "a36432f02d5c61d7"
            ]
        ]
    },
    {
        "id": "7f773eed6ba2fd70",
        "type": "inject",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "Color de LED",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"CHIPID\":\"esp32c3-D9D878\",\"R\":0,\"G\":0,\"B\":255}",
        "payloadType": "json",
        "x": 150,
        "y": 460,
        "wires": [
            [
                "a4a0736c9ee1372d",
                "1fc55a71aade72cd"
            ]
        ]
    },
    {
        "id": "9e20e3f8238ef444",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "Recibo Brillo",
        "func": "// Parseamos el payload recibido\nlet payload = msg.payload;\n\ntry {\n    // Aseguramos que el payload es un objeto\n    if (typeof payload === 'string') {\n        payload = JSON.parse(payload);\n    }\n\n    // Extraemos los valores\n    let chipId = payload.CHIPID || \"Desconocido\";\n    let brillo = payload.LED !== undefined ? payload.LED : \"No especificado\";\n    let origen = payload.origen || \"No especificado\";\n    let id = payload.id ? ` con ID: ${payload.id}` : \"\";\n\n    // Creamos el mensaje de salida\n    let texto = `El brillo actual del LED es ${brillo} y el comando proviene de ${origen}${id}. (CHIPID: ${chipId})`;\n\n    // Pasamos el mensaje generado como nuevo payload\n    msg.payload = texto;\n\n    return msg;\n} catch (err) {\n    node.error(\"Error al procesar el mensaje: \" + err.message);\n    return null;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 460,
        "wires": [
            [
                "c7295d366b6518e1",
                "2a53159a4b84bf5e"
            ]
        ]
    },
    {
        "id": "3052b1b54412d981",
        "type": "inject",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "Brillo",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"CHIPID\":\"esp32c3-XXXX\", \"LED\":100, \"origen\":\"mqtt\", \"id\":\"123456789\"}",
        "payloadType": "json",
        "x": 870,
        "y": 460,
        "wires": [
            [
                "9e20e3f8238ef444"
            ]
        ]
    },
    {
        "id": "c7295d366b6518e1",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "LED Brillo Origen",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1310,
        "y": 400,
        "wires": []
    },
    {
        "id": "2a53159a4b84bf5e",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "group": "9e8a9cec0b15cf59",
        "order": 6,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Brillo LED",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1280,
        "y": 460,
        "wires": []
    },
    {
        "id": "182658654f01ac20",
        "type": "ui_colour_picker",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "",
        "label": "Elige Color",
        "group": "9e8a9cec0b15cf59",
        "format": "hex",
        "outformat": "string",
        "showSwatch": true,
        "showPicker": false,
        "showValue": false,
        "showHue": false,
        "showAlpha": false,
        "showLightness": true,
        "square": "false",
        "dynOutput": "false",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 150,
        "y": 580,
        "wires": [
            [
                "a65f82e08f37fbbb"
            ]
        ]
    },
    {
        "id": "34e600fa30ff6511",
        "type": "ui_slider",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "",
        "label": "% Brillo",
        "tooltip": "",
        "group": "9e8a9cec0b15cf59",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "",
        "x": 920,
        "y": 520,
        "wires": [
            [
                "72d8ea27ce2fbf21"
            ]
        ]
    },
    {
        "id": "1898a6eb7d22fdbe",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "Comando LED Brillo",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1320,
        "y": 580,
        "wires": []
    },
    {
        "id": "0f77572edd564b8d",
        "type": "mqtt in",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "name": "Datos",
        "topic": "II16/esp32c3-D85054/datos",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "dcc291bb801e1410",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 130,
        "y": 740,
        "wires": [
            [
                "4188a3261e5f193e",
                "ec16ac274190892d"
            ]
        ]
    },
    {
        "id": "45e53859aec149f5",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "name": "Temperatura",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.DHT11.temp",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Temperatura",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 760,
        "wires": [
            [
                "f195d70b06b0d3b0",
                "4d813e9dde1090bb"
            ]
        ]
    },
    {
        "id": "86fa5c93d2df988d",
        "type": "inject",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{ \"CHIPID\":\"esp32c3-XXXX\", \"Uptime\":12300, \"DHT11\":{\"temp\":26.0,\"hum\":37.0}, \"Wifi\":{\"SSId\":\"infind\",\"IP\":\"192.168.0.100\",\"RSSI\":-56} }",
        "payloadType": "json",
        "x": 110,
        "y": 840,
        "wires": [
            [
                "4188a3261e5f193e"
            ]
        ]
    },
    {
        "id": "4fa08493d31b8e68",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "name": "Humedad",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.DHT11.hum",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Humedad",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 720,
        "wires": [
            [
                "b8fa4bcead652fc9",
                "4d813e9dde1090bb"
            ]
        ]
    },
    {
        "id": "f195d70b06b0d3b0",
        "type": "ui_widget_thermometer",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "group": "9cb3afe23639a28c",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "title": "Temperatura",
        "numColor": 3,
        "colorTop": "#2196f3",
        "colorMiddle": "#e2e55d",
        "colorBottom": "#f44336",
        "unit": "°C",
        "scale": "normal",
        "minTemp": "-10",
        "maxTemp": "60",
        "minTempMoreThanMaxTemp": "1",
        "numberOfDecimals": "0",
        "showPercentage": "0",
        "x": 650,
        "y": 780,
        "wires": []
    },
    {
        "id": "b8fa4bcead652fc9",
        "type": "ui_gauge",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "name": "",
        "group": "9cb3afe23639a28c",
        "order": 0,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Humedad",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#c3e9f9",
            "#00e6cb",
            "#141ae1"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 660,
        "y": 700,
        "wires": []
    },
    {
        "id": "4d813e9dde1090bb",
        "type": "ui_chart",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "name": "",
        "group": "9cb3afe23639a28c",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 650,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "f12b683742c3b0f2",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "group": "be165c6094b73de4",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "SSId:",
        "format": "{{payload.Wifi.SSId}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 470,
        "y": 840,
        "wires": []
    },
    {
        "id": "e37ebafa9d4ca71f",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "group": "be165c6094b73de4",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "IP:",
        "format": "{{payload.Wifi.IP}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 470,
        "y": 880,
        "wires": []
    },
    {
        "id": "c76fd88b3a2a0dad",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "group": "be165c6094b73de4",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "RSSI:",
        "format": "{{payload.Wifi.RSSI}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 470,
        "y": 920,
        "wires": []
    },
    {
        "id": "059df33395f049da",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "group": "be165c6094b73de4",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Uptime:",
        "format": "{{payload.Uptime}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 480,
        "y": 800,
        "wires": []
    },
    {
        "id": "4188a3261e5f193e",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "name": "Mas bonito",
        "func": "msg.payload=msg.payload;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 800,
        "wires": [
            [
                "c76fd88b3a2a0dad",
                "e37ebafa9d4ca71f",
                "f12b683742c3b0f2",
                "45e53859aec149f5",
                "4fa08493d31b8e68",
                "059df33395f049da"
            ]
        ]
    },
    {
        "id": "970bbf3c5d96c8f7",
        "type": "mqtt out",
        "z": "e92da6dab713fbf2",
        "g": "cbbc0d998969e22c",
        "name": "Switch Sub",
        "topic": "II16/esp32c3-D85054/switch/cmd",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "dcc291bb801e1410",
        "x": 1390,
        "y": 1180,
        "wires": []
    },
    {
        "id": "0c64375291e4bbb3",
        "type": "mqtt in",
        "z": "e92da6dab713fbf2",
        "g": "cbbc0d998969e22c",
        "name": "Switch Pub",
        "topic": "II16/esp32c3-D85054/switch/status",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "dcc291bb801e1410",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1020,
        "y": 1080,
        "wires": [
            [
                "49142ca53f693d7a",
                "8a2ae27eef722c93",
                "4fb42311617ab506"
            ]
        ]
    },
    {
        "id": "222ee9108c3e69c5",
        "type": "mqtt out",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "FOTA",
        "topic": "II16/esp32c3-D85054/FOTA",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "dcc291bb801e1410",
        "x": 410,
        "y": 1180,
        "wires": []
    },
    {
        "id": "2f548a3a21741679",
        "type": "mqtt out",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "Config",
        "topic": "II16/esp32c3-D85054/config",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "dcc291bb801e1410",
        "x": 810,
        "y": 1080,
        "wires": []
    },
    {
        "id": "a46586af39594a38",
        "type": "ui_switch",
        "z": "e92da6dab713fbf2",
        "g": "cbbc0d998969e22c",
        "name": "",
        "label": "Switch",
        "tooltip": "",
        "group": "9e8a9cec0b15cf59",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "{ \"level\":1 }",
        "onvalueType": "json",
        "onicon": "",
        "oncolor": "",
        "offvalue": "{ \"level\":0 }",
        "offvalueType": "json",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 1230,
        "y": 1180,
        "wires": [
            [
                "970bbf3c5d96c8f7",
                "ae65e9726ba02940"
            ]
        ]
    },
    {
        "id": "49142ca53f693d7a",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "cbbc0d998969e22c",
        "name": "function 6",
        "func": "// Extraer el valor del interruptor desde el mensaje recibido\nlet switchValue = msg.payload.SWITCH;\n\n// Validar que el campo SWITCH existe\nif (switchValue === undefined) {\n    node.error(\"El mensaje no contiene el campo SWITCH.\");\n    return null;\n}\n\n// Construir el mensaje de texto\nmsg.payload = `La configuración del interruptor es ${switchValue}`;\n\n// Devolver el mensaje para el siguiente nodo\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 1080,
        "wires": [
            [
                "dbd569a86613854b"
            ]
        ]
    },
    {
        "id": "dbd569a86613854b",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "d": true,
        "g": "cbbc0d998969e22c",
        "group": "9e8a9cec0b15cf59",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1390,
        "y": 1080,
        "wires": []
    },
    {
        "id": "a36432f02d5c61d7",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "LED Hex",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 580,
        "y": 500,
        "wires": []
    },
    {
        "id": "354299ab6f563dee",
        "type": "link in",
        "z": "e92da6dab713fbf2",
        "g": "cbbc0d998969e22c",
        "name": "Hacia el LED",
        "links": [
            "b399f0c4ac1a4a36"
        ],
        "x": 1245,
        "y": 1140,
        "wires": [
            [
                "ae65e9726ba02940",
                "970bbf3c5d96c8f7"
            ]
        ]
    },
    {
        "id": "ec16ac274190892d",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "0ece979cdefda2e6",
        "name": "Datos",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 270,
        "y": 740,
        "wires": []
    },
    {
        "id": "73efdea03cb618d6",
        "type": "link in",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "Brillo hacia el LED",
        "links": [
            "5cd5bc5b31e9e63a"
        ],
        "x": 795,
        "y": 520,
        "wires": [
            [
                "34e600fa30ff6511"
            ]
        ]
    },
    {
        "id": "88f5b8ef37a8cf08",
        "type": "inject",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "25",
        "payloadType": "num",
        "x": 830,
        "y": 580,
        "wires": [
            [
                "34e600fa30ff6511"
            ]
        ]
    },
    {
        "id": "8a2ae27eef722c93",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "cbbc0d998969e22c",
        "name": "LED Switch",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 1020,
        "wires": []
    },
    {
        "id": "4fb42311617ab506",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "cbbc0d998969e22c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.level",
                "pt": "msg",
                "to": "payload.SWITCH",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload.SWITCH",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.CHIPID",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1180,
        "wires": [
            [
                "a46586af39594a38"
            ]
        ]
    },
    {
        "id": "a81e804f1c2d9443",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "g": "48918301713603ee",
        "group": "be165c6094b73de4",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "CHIPID",
        "format": "{{msg.payload.CHIPID}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 560,
        "y": 200,
        "wires": []
    },
    {
        "id": "04bbef03827cc5b3",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "g": "48918301713603ee",
        "group": "be165c6094b73de4",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Estado",
        "format": "{{payload.status}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 560,
        "y": 240,
        "wires": []
    },
    {
        "id": "c8d3be97206e14f4",
        "type": "ui_text",
        "z": "e92da6dab713fbf2",
        "g": "48918301713603ee",
        "group": "be165c6094b73de4",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Actualizado:",
        "format": "{{msg.dateTime}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 550,
        "y": 280,
        "wires": []
    },
    {
        "id": "10171c1fa29a401f",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "48918301713603ee",
        "name": "DateTime",
        "func": "var currentDate = new Date();\n\nconst currDate = currentDate.getDate() + \"/\"\n    + (currentDate.getMonth() + 1) + \"/\"\n    + currentDate.getFullYear();\n\nvar tempH;\nvar tempM;\nvar tempS;\n\nif (currentDate.getSeconds() >= 10)\n{\n    tempS = currentDate.getSeconds();\n    }\nelse\n{\n    tempS = \"0\" + currentDate.getSeconds();\n}\n\nif (currentDate.getMinutes() >= 10)\n{\n    tempM = currentDate.getMinutes();\n    }\nelse\n{\n    tempM = \"0\" + currentDate.getMinutes();\n}\n\nif (currentDate.getHours() >= 10)\n{\n    tempH = currentDate.getHours();\n    }\nelse\n{\n    tempH = \"0\" + currentDate.getHours();\n}\n\n\nconst currTime = tempH + \":\"\n    + tempM + \":\"\n    + tempS;\n\nmsg.date = currDate;\nmsg.time = currTime;\nmsg.dateTime = currDate + \"  \" + currTime;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 280,
        "wires": [
            [
                "c8d3be97206e14f4"
            ]
        ]
    },
    {
        "id": "ca111f6b791301a6",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "48918301713603ee",
        "name": "online status",
        "func": "if (msg.payload.online == \"true\")\n{\n    msg.payload.status = \"conectado\"\n}\nelse\n{\n    msg.payload.status = \"desconectado\"\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 240,
        "wires": [
            [
                "04bbef03827cc5b3"
            ]
        ]
    },
    {
        "id": "a65f82e08f37fbbb",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "save Color data",
        "func": "let hexColor = msg.payload;\n\nlet r = parseInt(hexColor.substring(0, 2), 16);\nlet g = parseInt(hexColor.substring(2, 4), 16);\nlet b = parseInt(hexColor.substring(4, 6), 16);\n\nflow.set(\"R\", r);\nflow.set(\"G\", g);\nflow.set(\"B\", b);\n\n// read rgb values\nmsg.payload = {\n    \"R\": flow.get(\"R\"),\n    \"G\": flow.get(\"G\"),\n    \"B\": flow.get(\"B\")\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 580,
        "wires": [
            [
                "785f2fee914cb59a"
            ]
        ]
    },
    {
        "id": "ae65e9726ba02940",
        "type": "link out",
        "z": "e92da6dab713fbf2",
        "g": "cbbc0d998969e22c",
        "name": "switch message",
        "mode": "link",
        "links": [
            "7136fe45e81fbdb8"
        ],
        "x": 1355,
        "y": 1140,
        "wires": []
    },
    {
        "id": "7136fe45e81fbdb8",
        "type": "link in",
        "z": "e92da6dab713fbf2",
        "g": "5bbfe1f32a8dd3da",
        "name": "link in 1",
        "links": [
            "ae65e9726ba02940"
        ],
        "x": 225,
        "y": 500,
        "wires": [
            [
                "a4a0736c9ee1372d"
            ]
        ]
    },
    {
        "id": "043a22571f540493",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1280,
        "wires": [
            [
                "6ead7011c3e0a31a"
            ]
        ]
    },
    {
        "id": "6ead7011c3e0a31a",
        "type": "mongodb out",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "mongodb": "ef32da8a5b070e31",
        "name": "",
        "collection": "datos_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 570,
        "y": 1280,
        "wires": []
    },
    {
        "id": "f0f6d78f6d94d150",
        "type": "mqtt in",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "Datos",
        "topic": "II16/esp32c3-D85054/datos",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "dcc291bb801e1410",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 190,
        "y": 1320,
        "wires": [
            [
                "043a22571f540493",
                "6e41383e72f8370b"
            ]
        ]
    },
    {
        "id": "6e41383e72f8370b",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "function 8",
        "func": "msg.sort = {\"date\":-1};\nmsg.limit = flow.get(\"num_datos\");\nmsg.payload = {\"DHT11.temp\":{\"$gte\":flow.get(\"Tcorte\")}}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 1320,
        "wires": [
            [
                "28fa5e6f7a98326a",
                "92f32c551b564971"
            ]
        ]
    },
    {
        "id": "28fa5e6f7a98326a",
        "type": "mongodb in",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "mongodb": "ef32da8a5b070e31",
        "name": "",
        "collection": "datos_json",
        "operation": "find",
        "x": 890,
        "y": 1320,
        "wires": [
            [
                "f9dc51db0369c513",
                "889ff3e361738722",
                "8c143cc8be87f775"
            ]
        ]
    },
    {
        "id": "92f32c551b564971",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "debug 79",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 820,
        "y": 1380,
        "wires": []
    },
    {
        "id": "812a5ff029c9d8be",
        "type": "ui_chart",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "",
        "group": "b5a6df43101c1b3d",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 1390,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "889ff3e361738722",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "genera datos gráfica",
        "func": "var arraytemp=[];\nvar arrayhum=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los arrays\n        arraytemp.push({x : msg.payload[i].date.getTime() , y : msg.payload[i].DHT11.temp});\n        arrayhum.push({x : msg.payload[i].date.getTime() , y : msg.payload[i].DHT11.hum});\n    }\n\n    msg.payload = [{\n        \"series\": [\"Temperatura\", \"Humedad\"],\n        \"data\": [arraytemp, arrayhum],\n        \"labels\": [\"\"]\n    }];\n}\nelse  // si no hay registros borra la gráfica anterior\nmsg.payload = [];\n\n\nreturn msg; \n    \n ",
        "outputs": "1",
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1200,
        "y": 1360,
        "wires": [
            [
                "812a5ff029c9d8be"
            ]
        ]
    },
    {
        "id": "f9dc51db0369c513",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1170,
        "y": 1280,
        "wires": []
    },
    {
        "id": "8c143cc8be87f775",
        "type": "ui_table",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "group": "b5a6df43101c1b3d",
        "name": "",
        "order": 3,
        "width": "6",
        "height": "10",
        "columns": [
            {
                "field": "date",
                "title": "Fecha",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "DHT11.temp",
                "title": "Temperatura",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "DHT11.hum",
                "title": "Humedad",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 1150,
        "y": 1320,
        "wires": []
    },
    {
        "id": "90058a725408b93f",
        "type": "ui_slider",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "",
        "label": "Nº de datos",
        "tooltip": "",
        "group": "b5a6df43101c1b3d",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "topic.num_datos",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "",
        "x": 170,
        "y": 1380,
        "wires": [
            [
                "376152fdd2910fc5"
            ]
        ]
    },
    {
        "id": "376152fdd2910fc5",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "num_datos",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 1380,
        "wires": [
            [
                "6e41383e72f8370b"
            ]
        ]
    },
    {
        "id": "07f50edb4d03dae9",
        "type": "ui_numeric",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "",
        "label": "Temperatura de corte",
        "tooltip": "",
        "group": "b5a6df43101c1b3d",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": "-10",
        "max": "60",
        "step": 1,
        "className": "",
        "x": 140,
        "y": 1420,
        "wires": [
            [
                "57646a8454da2bce"
            ]
        ]
    },
    {
        "id": "57646a8454da2bce",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "709683779bfc6b4a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Tcorte",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 1420,
        "wires": [
            [
                "6e41383e72f8370b"
            ]
        ]
    },
    {
        "id": "83da0d1dcdd5def9",
        "type": "ui_button",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "group": "be165c6094b73de4",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Actualiza Fota",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 240,
        "y": 1180,
        "wires": [
            [
                "222ee9108c3e69c5"
            ]
        ]
    },
    {
        "id": "86ecc3854d52b1a3",
        "type": "inject",
        "z": "e92da6dab713fbf2",
        "g": "58968961a9981b08",
        "name": "Borrar todos los datos",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "limit",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{ }",
        "payloadType": "json",
        "x": 1020,
        "y": 1500,
        "wires": [
            [
                "3967e5fc1e7567eb"
            ]
        ]
    },
    {
        "id": "9a0881d363d9a698",
        "type": "comment",
        "z": "e92da6dab713fbf2",
        "name": "nuevo id de la placa: D85054",
        "info": "",
        "x": 160,
        "y": 60,
        "wires": []
    },
    {
        "id": "5a25f513c195d439",
        "type": "ui_slider",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "label": "Velocidad de envio de mensjaes (s)",
        "tooltip": "",
        "group": "ba0cb1f8909d0360",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": "10",
        "max": "900",
        "step": 1,
        "className": "",
        "x": 180,
        "y": 1020,
        "wires": [
            [
                "05c7551ed016e1de"
            ]
        ]
    },
    {
        "id": "11fa4c458f01c790",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "function 9",
        "func": "// Parámetros de entrada\nlet envio = flow.get(\"enviar\"); // Se espera que msg.payload sea el nivel de brillo\nlet ota = flow.get(\"fota\");\nlet led = flow.get(\"rgb\");\nlet mySwitch = flow.get(\"switch\");\n\nlet chipId = \"esp32c3-D85054\"; // Ajusta esto al ID real de tu dispositivo\nlet id = msg.id || null; // Opcional: se puede enviar un identificador como parte de msg.id\n\n// Creamos el mensaje\nlet mensaje = {\n    envia: envio, actualiza: ota, velocidad: led, SWITCH: mySwitch\n};\n\n// Añadimos el ID si está disponible\nif (id) {\n    mensaje.id = id;\n}\n\n// Establecemos el nuevo mensaje para publicarlo en el topic requerido\nmsg.topic = `IIX/${chipId}/config`;\nmsg.payload = mensaje;\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1080,
        "wires": [
            [
                "2f548a3a21741679",
                "df5eec50679a0c94",
                "023fc623b960f3e8"
            ]
        ]
    },
    {
        "id": "05c7551ed016e1de",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "enviar",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1020,
        "wires": [
            [
                "11fa4c458f01c790"
            ]
        ]
    },
    {
        "id": "8bb940c9aaf7960b",
        "type": "ui_slider",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "label": "Comprueba Fota (min)",
        "tooltip": "",
        "group": "ba0cb1f8909d0360",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": "0",
        "max": "1440",
        "step": 1,
        "className": "",
        "x": 220,
        "y": 1060,
        "wires": [
            [
                "dbdc8df7d78ff029"
            ]
        ]
    },
    {
        "id": "931d07c235b66340",
        "type": "ui_slider",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "label": "Velocidad RGB (ms para 1%)",
        "tooltip": "",
        "group": "ba0cb1f8909d0360",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": "1",
        "max": "200",
        "step": 1,
        "className": "",
        "x": 200,
        "y": 1100,
        "wires": [
            [
                "358d7735280ef9b8"
            ]
        ]
    },
    {
        "id": "df5eec50679a0c94",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "debug 81",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 820,
        "y": 1140,
        "wires": []
    },
    {
        "id": "dbdc8df7d78ff029",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "fota",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1060,
        "wires": [
            [
                "11fa4c458f01c790"
            ]
        ]
    },
    {
        "id": "358d7735280ef9b8",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rgb",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1100,
        "wires": [
            [
                "11fa4c458f01c790"
            ]
        ]
    },
    {
        "id": "1e97d493ae3af235",
        "type": "ui_switch",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "label": "SWITCH GPIO5",
        "tooltip": "",
        "group": "ba0cb1f8909d0360",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 240,
        "y": 1140,
        "wires": [
            [
                "595ecda87b15e8a0"
            ]
        ]
    },
    {
        "id": "595ecda87b15e8a0",
        "type": "change",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "switch",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1140,
        "wires": [
            [
                "11fa4c458f01c790"
            ]
        ]
    },
    {
        "id": "1410fd8ea7d531d6",
        "type": "mongodb in",
        "z": "e92da6dab713fbf2",
        "g": "409e01c1ddaa3548",
        "mongodb": "ef32da8a5b070e31",
        "name": "",
        "collection": "log",
        "operation": "find",
        "x": 1060,
        "y": 160,
        "wires": [
            [
                "8f9eaa8c8f4d624d"
            ]
        ]
    },
    {
        "id": "a77d8d6a61b718e6",
        "type": "inject",
        "z": "e92da6dab713fbf2",
        "g": "409e01c1ddaa3548",
        "name": "Ver Todo",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "limit",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{ }",
        "payloadType": "json",
        "x": 780,
        "y": 160,
        "wires": [
            [
                "1410fd8ea7d531d6"
            ]
        ]
    },
    {
        "id": "8f9eaa8c8f4d624d",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "409e01c1ddaa3548",
        "name": "debug 82",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1320,
        "y": 160,
        "wires": []
    },
    {
        "id": "06e06f3165dae6d7",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "409e01c1ddaa3548",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 220,
        "wires": [
            [
                "1fa17c40ca58396a"
            ]
        ]
    },
    {
        "id": "1fa17c40ca58396a",
        "type": "mongodb out",
        "z": "e92da6dab713fbf2",
        "g": "409e01c1ddaa3548",
        "mongodb": "ef32da8a5b070e31",
        "name": "",
        "collection": "log",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 1360,
        "y": 220,
        "wires": []
    },
    {
        "id": "2703be1f3a9021f4",
        "type": "mqtt in",
        "z": "e92da6dab713fbf2",
        "g": "409e01c1ddaa3548",
        "name": "Log",
        "topic": "II16/esp32c3-D85054/log",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "dcc291bb801e1410",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 790,
        "y": 220,
        "wires": [
            [
                "06e06f3165dae6d7"
            ]
        ]
    },
    {
        "id": "023fc623b960f3e8",
        "type": "link out",
        "z": "e92da6dab713fbf2",
        "g": "a0d92a043d54fb76",
        "name": "config",
        "mode": "link",
        "links": [],
        "x": 775,
        "y": 1040,
        "wires": []
    },
    {
        "id": "72d8ea27ce2fbf21",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "cdddb9ef78df682b",
        "name": "LED Brillo",
        "func": "// Parámetros de entrada\nlet brillo = msg.payload; // Se espera que msg.payload sea el nivel de brillo\nlet chipId = \"esp32c3-D85054\"; // Ajusta esto al ID real de tu dispositivo\nlet id = msg.id || null; // Opcional: se puede enviar un identificador como parte de msg.id\n\n// Creamos el mensaje\nlet mensaje = {\n    level: brillo,\n    origin: \"test\"\n};\n\n// Añadimos el ID si está disponible\nif (id) {\n    mensaje.id = id;\n}\n\n// Establecemos el nuevo mensaje para publicarlo en el topic requerido\nmsg.topic = `IIX/${chipId}/led/brillo`;\nmsg.payload = mensaje;\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 520,
        "wires": [
            [
                "3e06980b0d0ab8f5",
                "1898a6eb7d22fdbe"
            ]
        ]
    },
    {
        "id": "25ae094588d7eefa",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "mensaje bienvenida",
        "func": "if(msg.payload.content.substring(0,1)!=\"/\")\n{\n msg.payload.content=\"Hola soy el bot del Grupo 16 de Informática Industrial. Puedo responderte a estos comandos:\\n/start\\n/Apaga_LED\\n/Enciende_LED\\n/Brillo\";\n return msg;\n}",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 740,
        "wires": [
            [
                "27fd955cd51462a1",
                "66498d065d90b9a6"
            ]
        ]
    },
    {
        "id": "3a331822f3c206ca",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "debug 75",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1100,
        "y": 700,
        "wires": []
    },
    {
        "id": "66498d065d90b9a6",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "debug 76",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1340,
        "y": 700,
        "wires": []
    },
    {
        "id": "0f86c890c030920e",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "Apagar",
        "func": "msg.mensaje=msg.payload;\n\nmsg.payload= { \"level\":0 }\n\n\n/*msg.payload=msg.mensaje;\nmsg.payload.content=\"La temperatura es de \"+temp+\"ºC\\n\";\nmsg.payload.content+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });*/\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 800,
        "wires": [
            [
                "b399f0c4ac1a4a36",
                "dc6e60dc169ebf81"
            ]
        ]
    },
    {
        "id": "b399f0c4ac1a4a36",
        "type": "link out",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "Apaga LED",
        "mode": "link",
        "links": [
            "354299ab6f563dee"
        ],
        "x": 1185,
        "y": 820,
        "wires": []
    },
    {
        "id": "aedcf5f3e8a9ef28",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "Encender",
        "func": "msg.mensaje=msg.payload;\n\nmsg.payload= { \"level\":1 }\n\n\n/*msg.payload=msg.mensaje;\nmsg.payload.content=\"La temperatura es de \"+temp+\"ºC\\n\";\nmsg.payload.content+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });*/\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 840,
        "wires": [
            [
                "b399f0c4ac1a4a36",
                "dc6e60dc169ebf81"
            ]
        ]
    },
    {
        "id": "953b04dd14c1bfe1",
        "type": "function",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "Pregunta Brillo",
        "func": "let message = msg.payload.content;\nlet value = message.substring(1);\nlet brightness = parseInt(value, 10);\n\nmsg.payload = brightness;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 880,
        "wires": [
            [
                "5cd5bc5b31e9e63a",
                "58c4196fb4becfcb"
            ]
        ]
    },
    {
        "id": "5cd5bc5b31e9e63a",
        "type": "link out",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "Brillo LED",
        "mode": "link",
        "links": [
            "73efdea03cb618d6"
        ],
        "x": 1225,
        "y": 920,
        "wires": []
    },
    {
        "id": "f03cdb02adc4cc46",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "debug 77",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1080,
        "y": 920,
        "wires": []
    },
    {
        "id": "58c4196fb4becfcb",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "debug 78",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1340,
        "y": 880,
        "wires": []
    },
    {
        "id": "5827563d3871784f",
        "type": "telegram receiver",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "",
        "bot": "e2e809aeef1c8de1",
        "saveDataDir": "",
        "filterCommands": true,
        "x": 870,
        "y": 700,
        "wires": [
            [
                "25ae094588d7eefa"
            ],
            []
        ]
    },
    {
        "id": "ed4c994b111117a1",
        "type": "telegram command",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "",
        "command": "/start",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "e2e809aeef1c8de1",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 910,
        "y": 740,
        "wires": [
            [
                "25ae094588d7eefa",
                "3a331822f3c206ca"
            ],
            []
        ]
    },
    {
        "id": "a15ba0364b488a5e",
        "type": "telegram command",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "",
        "command": "/Apaga_LED",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "e2e809aeef1c8de1",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 890,
        "y": 800,
        "wires": [
            [
                "0f86c890c030920e"
            ],
            []
        ]
    },
    {
        "id": "709a5a452d2d2155",
        "type": "telegram command",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "",
        "command": "/Enciende_LED",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "e2e809aeef1c8de1",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 880,
        "y": 840,
        "wires": [
            [
                "aedcf5f3e8a9ef28"
            ],
            []
        ]
    },
    {
        "id": "2870aa0cc76fd5d5",
        "type": "telegram command",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "",
        "command": "/Brillo",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "e2e809aeef1c8de1",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 910,
        "y": 900,
        "wires": [
            [
                "953b04dd14c1bfe1",
                "f03cdb02adc4cc46"
            ],
            []
        ]
    },
    {
        "id": "27fd955cd51462a1",
        "type": "telegram sender",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "",
        "bot": "e2e809aeef1c8de1",
        "haserroroutput": false,
        "outputs": 1,
        "x": 1370,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "dc6e60dc169ebf81",
        "type": "telegram sender",
        "z": "e92da6dab713fbf2",
        "g": "8bdb952b6f7c5ef4",
        "name": "LED On/Off",
        "bot": "e2e809aeef1c8de1",
        "haserroroutput": false,
        "outputs": 1,
        "x": 1350,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "32675ec3b1fe5bf9",
        "type": "inject",
        "z": "e92da6dab713fbf2",
        "g": "d7bf462e8e978631",
        "name": "Ver todos los datos",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "limit",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{ }",
        "payloadType": "json",
        "x": 250,
        "y": 1500,
        "wires": [
            [
                "b28309d73fbcbc06"
            ]
        ]
    },
    {
        "id": "b28309d73fbcbc06",
        "type": "mongodb in",
        "z": "e92da6dab713fbf2",
        "g": "d7bf462e8e978631",
        "mongodb": "ef32da8a5b070e31",
        "name": "",
        "collection": "datos_json",
        "operation": "find",
        "x": 490,
        "y": 1500,
        "wires": [
            [
                "2246a568a9da1291"
            ]
        ]
    },
    {
        "id": "2246a568a9da1291",
        "type": "debug",
        "z": "e92da6dab713fbf2",
        "g": "d7bf462e8e978631",
        "name": "debug 83",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 1500,
        "wires": []
    },
    {
        "id": "3967e5fc1e7567eb",
        "type": "mongodb out",
        "z": "e92da6dab713fbf2",
        "g": "58968961a9981b08",
        "mongodb": "ef32da8a5b070e31",
        "name": "",
        "collection": "datos_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1290,
        "y": 1500,
        "wires": []
    },
    {
        "id": "af4211adb9d9b868",
        "type": "mongodb out",
        "z": "e92da6dab713fbf2",
        "g": "409e01c1ddaa3548",
        "mongodb": "ef32da8a5b070e31",
        "name": "",
        "collection": "log",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "delete",
        "x": 1360,
        "y": 280,
        "wires": []
    },
    {
        "id": "1ceb6eb4decf128c",
        "type": "inject",
        "z": "e92da6dab713fbf2",
        "g": "409e01c1ddaa3548",
        "name": "Borrar Todo",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "limit",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{ }",
        "payloadType": "json",
        "x": 770,
        "y": 280,
        "wires": [
            [
                "af4211adb9d9b868"
            ]
        ]
    },
    {
        "id": "dcc291bb801e1410",
        "type": "mqtt-broker",
        "name": "",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "9e8a9cec0b15cf59",
        "type": "ui_group",
        "name": "LEDs",
        "tab": "886291c5904a2cf6",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9cb3afe23639a28c",
        "type": "ui_group",
        "name": "Datos",
        "tab": "886291c5904a2cf6",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "be165c6094b73de4",
        "type": "ui_group",
        "name": "Wifi",
        "tab": "886291c5904a2cf6",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ef32da8a5b070e31",
        "type": "mongodb",
        "hostname": "iot.ac.uma.es",
        "topology": "direct",
        "connectOptions": "",
        "port": "27017",
        "db": "II16",
        "name": ""
    },
    {
        "id": "b5a6df43101c1b3d",
        "type": "ui_group",
        "name": "Historial de datos",
        "tab": "886291c5904a2cf6",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ba0cb1f8909d0360",
        "type": "ui_group",
        "name": "Cofiguracion",
        "tab": "886291c5904a2cf6",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e2e809aeef1c8de1",
        "type": "telegram bot",
        "botname": "Grupo16bot",
        "usernames": "",
        "chatids": "",
        "baseapiurl": "",
        "testenvironment": false,
        "updatemode": "polling",
        "addressfamily": "",
        "pollinterval": "300",
        "usesocks": false,
        "sockshost": "",
        "socksprotocol": "socks5",
        "socksport": "6667",
        "socksusername": "anonymous",
        "sockspassword": "",
        "bothost": "",
        "botpath": "",
        "localbotport": "8443",
        "publicbotport": "8443",
        "privatekey": "",
        "certificate": "",
        "useselfsignedcertificate": false,
        "sslterminated": false,
        "verboselogging": false
    },
    {
        "id": "886291c5904a2cf6",
        "type": "ui_tab",
        "name": "Proyecto",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    }
]